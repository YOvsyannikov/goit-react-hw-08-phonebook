"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[779],{3159:function(e,t,n){n.d(t,{o:function(){return r}});var r={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}}},7552:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(2791),a=n(9434),o=n(2388),i=n(7223),s=n(5985),c=n(6916),u=function(e){return e.contacts.items},l=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.filter},h=(0,c.P1)([u,m],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),d=n(3811),f=n(7247),p=n(7038),v=n(4549),x=n(3159),_="ContactList_list__csErn",C="ContactList_item__EZYHO",b="ContactList_info__ndqPX",j=n(184);var g=function(){var e=(0,a.I0)(),t=(0,a.v9)(h),n=(0,a.v9)(u);return(0,j.jsxs)(j.Fragment,{children:[n.length>0&&(0,j.jsx)(p.E.ul,{className:_,children:(0,j.jsx)(v.M,{children:t.map((function(t){var n=t.id,r=t.name,a=t.number;return(0,j.jsxs)(p.E.li,{className:C,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:x.o,children:[(0,j.jsxs)("p",{className:b,children:[(0,j.jsx)("b",{children:r}),(0,j.jsx)("em",{children:a})]}),(0,j.jsx)(d.Z,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return e((t=n,function(e){e((0,i.deleteContactRequest)()),o.Z.delete("/contacts/".concat(t)).then((function(){return e((0,i.deleteContactSuccess)(t))})).catch((function(t){e((0,i.deleteContactError)(t)),404===t.response.status?s.Am.info("There is no such user's collection!"):500===t.response.status?s.Am.error("Oops! Server error! Please try later!"):s.Am.error("Something went wrong! Please reload the page!")}))}));var t},children:(0,j.jsx)(f.Z,{})})]},n)}))})}),!n.length&&(0,j.jsx)(v.M,{children:(0,j.jsx)(p.E.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:x.o,children:"Your phonebook is empty. Please add contact."})})]})},w=n(885),E=n(948),k=n(7205),N=n(9446),y="ContactForm_form__dhl+T",A="ContactForm_label__-cVXI",P="ContactForm_input__Bl93P";var S=function(){var e=(0,a.I0)(),t=(0,a.v9)(u),n=(0,a.v9)(l),c=(0,r.useState)(""),m=(0,w.Z)(c,2),h=m[0],d=m[1],f=(0,r.useState)(""),p=(0,w.Z)(f,2),v=p[0],x=p[1],_=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":d(r);break;case"number":x(r);break;default:return}},C=function(){d(""),x("")};return(0,j.jsxs)("form",{className:y,onSubmit:function(n){return n.preventDefault(),function(e){return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(h)?(0,s.Am)("\ud83e\udd14 ".concat(h," is already in the phonebook.")):function(e){return t.find((function(t){return t.number===e}))}(v)?(0,s.Am)("\ud83e\udd14 ".concat(v," is already in the phonebook.")):function(e,t){return""===e.trim()||""===t.trim()}(h,v)?s.Am.info("\ud83d\ude31 Enter the contact's name and number phone!"):(e(function(e,t){return function(n){var r={name:e,number:t};n((0,i.addContactRequest)()),o.Z.post("/contacts",r).then((function(e){var t=e.data;return n((0,i.addContactSuccess)(t))})).catch((function(e){n((0,i.addContactError)(e)),400===e.response.status?s.Am.error("Contact creation error!"):s.Am.error("Something went wrong! Please reload the page!")}))}}(h,v)),void C())},children:[(0,j.jsxs)("label",{className:A,children:["Name",(0,j.jsx)("input",{className:P,type:"text",name:"name",value:h,onChange:_,placeholder:"Enter name"})]}),(0,j.jsxs)("label",{className:A,children:["Number",(0,j.jsx)(E.h3,{placeholder:"Enter phone number",format:"(###) ###-##-##",mask:"_",pattern:"^[0-9\\s\\(\\)\\-]{15}",type:"tel",name:"number",value:v,onChange:_,className:P})]}),!n&&(0,j.jsx)(k.Z,{variant:"contained",color:"secondary",size:"large",type:"submit",children:"Add contact"}),n&&(0,j.jsx)(N.Z,{})]})},Z="Filter_label__vEd1E",L="Filter_input__N7T3z";var F=function(){var e=(0,a.I0)(),t=(0,a.v9)(m),n=(0,a.v9)(u);return(0,j.jsx)(j.Fragment,{children:n.length>0&&(0,j.jsx)(v.M,{children:(0,j.jsx)("label",{className:Z,children:(0,j.jsx)(p.E.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:x.o,className:L,type:"text",value:t,onChange:function(t){return e(i.filterContact(t.target.value))}})})})})},I="ContactsView_wrapper__6KPQm";function q(){var e=(0,a.I0)();return(0,r.useEffect)((function(){return e((function(e){e((0,i.fetchContactsRequest)()),o.Z.get("/contacts").then((function(t){var n=t.data;return e((0,i.fetchContactsSuccess)(n))})).catch((function(t){e((0,i.fetchContactsError)(t)),404===t.response.status?s.Am.info("There is no such user's collection!"):500===t.response.status?s.Am.error("Oops! Server error! Please try later!"):s.Am.error("Something went wrong! Please reload the page!")}))}))}),[e]),(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)("h1",{children:"Phonebook"}),(0,j.jsx)(S,{}),(0,j.jsx)("h2",{children:"Contacts"}),(0,j.jsx)(F,{}),(0,j.jsx)(g,{})]})}}}]);
//# sourceMappingURL=contacts-view.0bfed239.chunk.js.map